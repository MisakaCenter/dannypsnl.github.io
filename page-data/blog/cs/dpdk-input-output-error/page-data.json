{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/cs/dpdk-input-output-error/","result":{"data":{"site":{"siteMetadata":{"siteUrl":"https://dannypsnl.github.io"}},"markdownRemark":{"html":"<p>Last week I'm trying to reproduce a bug happened in our customer environment, so we create a minimal example for this: <a href=\"https://github.com/glasnostic/nff_go_test\">https://github.com/glasnostic/nff_go_test</a></p>\n<p>During this, I found an annoying problem and want to record it.</p>\n<p>I got an error: <code class=\"language-text\">EAL: Error enabling interrupts for fd 10 (Input/output error)</code></p>\n<p>After some research, I found a patch for this(it didn't be merged into DPDK since it's a VMWare problem).</p>\n<p>If you try to bind NIC that using <code class=\"language-text\">e1000</code> you might have the same issue.</p>\n<p>To solve this disables the checking by:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sed -i &quot;s/pci_intx_mask_supported(dev)/pci_intx_mask_supported(dev)||1/g&quot; \\\n  $(DPDK_PROJECT)/kernel/linux/igb_uio/igb_uio.c</code></pre></div>\n<p>This would make <code class=\"language-text\">pci_intx_mask_supported</code> check do not work anymore.</p>\n<p>then recompile, after compiling done, reload the kernel module:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">rmmod igb_uio\ninsmod $(DPDK_PROJECT)/build/kmod/igb_uio</code></pre></div>\n<p>p.s. <code class=\"language-text\">DPDK_PROJECT</code> is the project root directory of DPDK, related to your environment.</p>\n<p>Then this problem should be fixed.</p>","frontmatter":{"title":"DPDK -- EAL Input/output error"}}},"pageContext":{"slug":"/blog/cs/dpdk-input-output-error/"}}}