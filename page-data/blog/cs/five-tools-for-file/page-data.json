{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/cs/five-tools-for-file/","result":{"data":{"markdownRemark":{"html":"<p>We usually have to transfer files between two computers, such as config, log, image. There are a lot of tools that could do it, but if we only know one approach, we would have trouble quickly, so I'm going to show you five tools relate to the topic.</p>\n<h3>1. scp(secure copy)</h3>\n<p><code>scp</code> is a command line utility that allows you to copy files and directories between two locations securely. It put at first order is because it's the best choice if we could. With <code>scp</code>, we could:</p>\n<ul>\n<li>copy from your local to a remote</li>\n<li>copy from a remote to your local system</li>\n<li>copy between two remotes from your local</li>\n</ul>\n<p>When scp transferring data, both password and files are encrypted so anyone could see the packet can't get any sensitive.</p>\n<h4>command line syntax</h4>\n<p>The format of the command is:\n<code>scp [OPTION] [user@]SRC_HOST:]file1 [user@]DEST_HOST:]file2</code></p>\n<p>For example:</p>\n<pre><code class=\"language-bash\">$ scp log.txt danny@54.133.2.8:~/\n</code></pre>\n<p>Means copy the <code>./log.txt</code> to the home directory of <code>54.133.2.8</code> this computer.</p>\n<p><code>scp</code> just like <code>cp</code>, as you thought, copy remote to local was:</p>\n<pre><code class=\"language-bash\">$ scp danny@54.133.2.8:~/log.txt ./\n</code></pre>\n<p>If you want to copy between two remote:</p>\n<pre><code class=\"language-bash\">$ scp danny@54.133.2.8:~/log.txt danny@54.133.2.9:~/\n</code></pre>\n<p>Usually, you need a key to use <code>scp</code>, to add it into command, use the option <code>-i</code> to do that:</p>\n<pre><code class=\"language-bash\">$ scp -i /path/to/key $src $dst\n</code></pre>\n<p>There are a lot of useful options, just quickly pick some at here:</p>\n<ul>\n<li><code>-r</code>: recursively copy the directories</li>\n<li><code>-P</code>: specific port</li>\n<li><code>-C</code>: force compress data</li>\n</ul>\n<p>To get more information, take a look at <a href=\"https://linux.die.net/man/1/scp\">scp man page</a></p>\n<h3>2. nc(netcat)</h3>\n<p>Although <code>scp</code> is powerful, sometimes the environment couldn't use it.</p>\n<p><code>nc</code> is a network testing tool actually, but if you use:</p>\n<pre><code class=\"language-bash\">$ nc -l 8888 | tar zvf -\n</code></pre>\n<p>Nice, you listen on port <code>8888</code> now, next thing is transfer data to it.</p>\n<pre><code class=\"language-bash\">$ tar cvf - ./file | nc localhost 8888\n</code></pre>\n<p>For a lazy guy:</p>\n<pre><code class=\"language-bash\"># listen\n$ nc -l 8888 > file\n$ nc localhost 8888 &#x3C; file\n</code></pre>\n<p><code>nc</code> would close after receiving some data, so if we don't want that, try:</p>\n<pre><code class=\"language-bash\">$ while true; do nc -l 8888 | tar zvf -; done\n</code></pre>\n<h3>3. python</h3>\n<p>If you have no choice or want to provide a long time server, and no like to remember a lot of pipeline command, try <code>python</code>:</p>\n<pre><code class=\"language-bash\">$ python3 -m http.server\n</code></pre>\n<p>It would start a file server at your command location.</p>\n<h3>4. tar</h3>\n<p>At <code>nc</code> section, could see we already use this tool, <code>tar</code> is helpful while the file is quite big, reduce the size to improve our life.</p>\n<p>Example:</p>\n<pre><code class=\"language-bash\"># compress\n$ tar cvf file\n# extract\n$ tar zvf file\n</code></pre>\n<p>To get more information: <a href=\"https://linux.die.net/man/1/tar\">tar man page</a></p>\n<h3>5. ngrok</h3>\n<p>At the previous section, we are assuming the target have public ip could reach easily. But life is hard. Sometimes we didn't have public ip; for this situation, <code>ngrok</code> could help.</p>\n<p>Site: <a href=\"https://ngrok.com/\">ngrok</a></p>\n<p>This tool has to download by yourself.</p>\n<p>Let's show how to use it:</p>\n<pre><code class=\"language-bash\"># expose localhost:8080 by HTTP\n$ ngrok http 8080\n# expose localhost:8080 by TCP\n$ ngrok tcp 8080\n</code></pre>\n<p>The TCP is beneficial for <code>nc</code> command. And HTTP is useful while you create a file server.</p>\n<h2>Conculsion</h2>\n<p>In this tutorial, you learn how to transfer files by different tools and solve the limited networking environment issue to transfer data between different computers. Thanks for reading.</p>","frontmatter":{"title":"5 tools for file transfer"}}},"pageContext":{"slug":"/blog/cs/five-tools-for-file/"}}}