{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/2018/03/31/cs/run-and-up/","result":{"data":{"site":{"siteMetadata":{"siteUrl":"https://dannypsnl.github.io"}},"markdownRemark":{"html":"<p>這幾天好不容易有機會試玩 Elixir 的神奇框架 Phoenix</p>\n<p>首先要用 mix 下載 phoenix</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ mix archive.install https://github.com/phoenixframework/archives/raw/master/phx_new.ez</code></pre></div>\n<p>另外也需要 node, npm 等相依</p>\n<p>預設使用 postgreSQL 作為資料庫</p>\n<p>Phoenix 與 Rails 相同，都是由框架為你產生基礎模板的設計，指令如下：</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ mix phx.new hello</code></pre></div>\n<p>接著會跑出整串的安裝過程，所有問題都按 y ，Phoenix 會為你安裝需要的相依還有 js 等等，等待結束之後進入目錄 <code class=\"language-text\">$ cd hello</code></p>\n<p>預設的資料庫 Database 是 <code class=\"language-text\">專案名稱_dev</code> ，所以現在用 ecto 創建一個 db 吧</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ mix ecto.create</code></pre></div>\n<blockquote>\n<p>p.s. 這裡有個問題是你必須先在 <code class=\"language-text\">port: 5432</code> 上跑一個 postgre ，否則會跑出一連串的錯誤，因為 phoenix 會不斷嘗試連接資料庫</p>\n</blockquote>\n<blockquote>\n<p>我的做法是用 Docker 跑起一個開發用的 Postgre 資料庫</p>\n</blockquote>\n<p>Docker command:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ docker run --rm --name dev-postgre -e <span class=\"token assign-left variable\">POSTGRES_PASSWORD</span><span class=\"token operator\">=</span>postgres -p <span class=\"token number\">5432</span>:5432 -d postgres:10.3</code></pre></div>\n<p>為了讓電腦環境更乾淨你可以選擇用 docker 建立 phoenix 的開發環境，再將資料庫 link 進開發容器之中，檔案掛 volume 即可</p>\n<p>最後啟動伺服器</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ mix phx.server</code></pre></div>\n<p>到 <code class=\"language-text\">http://localhost:4000</code> 看你的網頁</p>\n<p>之後再深入研究 Phoenix 的其他特性，XD</p>\n<h3>References:</h3>\n<ul>\n<li><a href=\"https://docs.docker.com/samples/library/postgres/\">Postgre Docker</a></li>\n<li><a href=\"https://hexdocs.pm/phoenix/overview.html\">Phoenix Doc</a></li>\n</ul>","frontmatter":{"title":"Phoneix 安裝與啟動","categories":["cs"],"tags":["phoenix","elixir","web"]}}},"pageContext":{"slug":"/blog/2018/03/31/cs/run-and-up/"}}}